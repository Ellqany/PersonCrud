<div class="row">
  <div class="col">
    <form [formGroup]="personForm" (ngSubmit)="onPersonEdit()">
      <h2 mat-dialog-title class="text-center">Editing {{personOld?.name}}</h2>

      <mat-dialog-content class="mat-typography">
        <div class="text-center" *ngIf="personFormControls['avatar'].value">
          <img [src]="personFormControls['avatar'].value" class="rounded-circle" height="200" width="200"
            [alt]="personFormControls['name'].value">
          <span class="rounded-circle text-gray edit_icon" (click)="generateAvatar()">
            <em class="fas fa-refresh"></em>
          </span>
        </div>

        <div class="row">
          <div class="col-xl-12">
            <div class="form-group">
              <label class="form-control-label" for="fName">Name</label>
              <input type="text" name="name" id="name" class="form-control form-control-alternative" placeholder="Name"
                formControlName="name" />

              <div *ngIf="personFormControls['name'].invalid" class="text-danger">
                <app-validation-message [maxLength]="100" [isSubmitted]="personFormSubmitted"
                  [control]="personFormControls['name']" [name]="'name'"></app-validation-message>
              </div>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-xl-12">
            <div class="form-group">
              <label class="form-control-label" for="email">Email</label>

              <input type="email" name="email" id="email" class="form-control form-control-alternative"
                placeholder="email" formControlName="email" />

              <div *ngIf="personFormControls['email'].invalid" class="text-danger">
                <app-validation-message [maxLength]="100" [isSubmitted]="personFormSubmitted"
                  [control]="personFormControls['email']" [name]="'email'"></app-validation-message>
              </div>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-xl-12">
            <div class="form-group">
              <label class="form-control-label" for="country">Country</label>
              <select name="country" id="country" class="form-control form-control-alternative"
                formControlName="country">
                <option [ngValue]="''">Please select the country</option>
                <option *ngFor="let country of countries" [ngValue]="country">{{country}}</option>
              </select>

              <div *ngIf="personFormControls['country'].invalid" class="text-danger">
                <app-validation-message [maxLength]="100" [isSubmitted]="personFormSubmitted"
                  [control]="personFormControls['country']" [name]="'country'"></app-validation-message>
              </div>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-xl-12">
            <div class="form-group">
              <label class="form-control-label" for="date">Date of Birth</label>

              <mat-datepicker-toggle class="dateIcon text-primary" matSuffix [for]="picker">
              </mat-datepicker-toggle>
              <mat-datepicker style="background-color:white;" class="text-primary" #picker></mat-datepicker>

              <input [max]="todaydate" [min]="1900-01-1" id="date" name="date" formControlName="dob"
                [matDatepicker]="picker" readonly class="form-control form-control-alternative"
                style="padding-left: 30px;" placeholder="Date of birth">

              <div *ngIf="personFormControls['dob'].invalid" class="text-danger">
                <small>Person must be over 18 years old</small>
              </div>
            </div>
          </div>
        </div>
      </mat-dialog-content>

      <mat-dialog-actions align="center">
        <button type="submit" style="margin-left: 3px; width: 200px;" class="btn btn-primary my-4">
          Save
        </button>

        <button type="reset" style="margin-right: 3px; width: 100px;" class="btn btn-danger my-4" (click)="onCancel()">
          Cancel
        </button>
      </mat-dialog-actions>
    </form>
  </div>
</div>
